# Honest Cross-Site Validation - Correlation Demo with Permutations
# =================================================================
# Small config to demonstrate that correlation FC can classify state.
# Uses only: corr + Schaefer200 + noGSR + all strategies.
# Direction: train on IHB, test on China.
#
# Usage:
#   # Run from repo root:
#   source venv/bin/activate && PYTHONPATH=. python -m benchmarking.cross_site --config configs/cross_site_corr_schaefer_perm.yaml

# Data paths
data_path: "~/Yandex.Disk.localized/IHB/OpenCloseBenchmark_data"

# Datasets - single direction
train_on:
  - ihb
test_on:
  - china

# Pipeline parameters
atlases:
  - Schaefer200

fc_types:
  - corr

strategies: [1, 2, 3, 4, 5, 6]

gsr_options:
  - noGSR

# Model settings
pca_components: 0.95
random_state: 42

# Classifier (extensible)
# Options: `logreg`, `svm_rbf`
model:
  name: logreg
  params:
    solver: lbfgs
    max_iter: 1000
  scale: false  # auto-true for svm_rbf if omitted

# Save per-sample test outputs (predictions + scores) for paired comparisons
# (Exact McNemar, DeLong). Writes `*_test_outputs.csv`.
save_test_outputs: false

# Permutation testing (0 = skip, >0 = number of permutations)
n_permutations: 100  # Demo: 100 permutations

# Multiprocessing
n_workers: 2

# Output
output: "results/cross_site_corr_schaefer_perm.csv"
